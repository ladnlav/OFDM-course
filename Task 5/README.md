# Отчет к домашнему заданию №5: Оценка OFDM-канала. Оценка с помощью метода сжатых измерений

## Квинтэссенция работы
 В этой работе рассмотрены различные способы оценки OFDM-канала (LS, LS-MMSE, MP, OMP). Для этого были использованы такие метрики, как корреляционный анализ, MSE, BER. В целях оценки канала в сигнал встраиваются пилоты. Схему построенной в этой работе системы можно видеть на рисунке №1.

![Alt-text](<graphs/task4.png>)
_Рисунок №1. Пайплайн OFDM-системы_

**Параметры OFDM передачи**
* Сигнальное созвездие: `16QAM`;
* Длительной полезной части в количестве fft отсчётов: `N_fft = 4096`
* Количество поднесущих в одном OFDM символе: `N_carrier = 1024`
* Длина защитного интервала: `T_Guard = Nfft/8=128`
* Количество кадров: `Amount_OFDM_Frames = 1`
* Количество генерируемых OFDM символов: `Amount_OFDM_Symbols_per_Frame = 7`
* Количество пилотных поднесущих  период (comb) или кол-во (pilot_amount):
 `comb = 1` / `pilot_amount = 1024`
* Амплитуда пилотных значений:
`2*максимальная_амплитуда_созвездия`

## Тестирование методов при различном уровне SNR
Для исследования зависимости MSE от уровня шума в канале (уровня SNR) использовался следующий канал:
```matlab
channel_taps = [
    0, 1;   % (delay, amplitude)
    4, 0.8;
    10, 0.6;
    15, 0.4;
    21, 0.2;
    25, 0.1;
];
```

![Alt-text](<graphs/mse(snr), comb1.png>)
_Рисунок №2. MSE в зависимости от уровня SNR_

### Выводы:
* из графика на рисунке 2 видно, что методы разреженных измерений меньше зависят от уровня шума в канале, в отличие от методов LS и MMSE;
* наиболее точным методом оценки оказался OMP, наименее точным - LS;

## Исследование методов в зависимости от разного периода пилотов (comb-like)

### EPA
![Alt-text](<graphs/MSE_comb_EPA.png>)
_Рисунок №3. MSE в зависимости от периода пилотов для EPA модели канала_

![Alt-text](<graphs/BER_comb_EPA.png>)
_Рисунок №4. BER в зависимости от периода пилотов для EPA модели канала_

### EVA
![Alt-text](<graphs/MSE_comb_EVA.png>)
_Рисунок №5. MSE в зависимости от периода пилотов для EVA модели канала_

![Alt-text](<graphs/BER_comb_EVA.png>)
_Рисунок №6. BER в зависимости от периода пилотов для EVA модели канала_

### ETU
![Alt-text](<graphs/MSE_comb_ETU.png>)
_Рисунок №7. MSE в зависимости от периода пилотов для ETU модели канала_

![Alt-text](<graphs/BER_comb_ETU.png>)
_Рисунок №8. BER в зависимости от периода пилотов для ETU модели канала_

### Комментарии и выводы:
* в данном разделе кривые методов разреженных измерений (MP, OMP) приведены для справки, основным объектом изучения являются кривые методов LS и MMSE;
* кривые LS и MMSE очень слабо отличаются друг от друга;
* для исследования помимо MSE метрики использовалась такая метрика как BER, поскольку на взгляд автора она позволяет лучше отобразить качество эквализации тем или иным методом;
* кол-во пилотов при котором нарушается теорема Котельникова для методов LS/MMSE (взят порог BER в 5%): 
  * EPA - `7` (рисунок 4)
  * EVA - `33` (рисунок 6)
  * ETU - `93` (рисунок 8)
* При изменении модели канала более "суровые" модели требуют большего количества пилотов для точной оценки канала;

## Исследование методов в зависимости от разного количества пилотов (маска с равномерным случайным распределением)
### EPA
![Alt-text](<graphs/MSE_rand_EPA.png>)
_Рисунок №9. MSE в зависимости от кол-ва пилотов для EPA модели канала_

![Alt-text](<graphs/BER_rand_EPA.png>)
_Рисунок №10. BER в зависимости от кол-ва пилотов для EPA модели канала_

### EVA
![Alt-text](<graphs/MSE_rand_EVA.png>)
_Рисунок №11. MSE в зависимости от кол-ва пилотов для EVA модели канала_

![Alt-text](<graphs/BER_rand_EVA.png>)
_Рисунок №12. BER в зависимости от кол-ва пилотов для EVA модели канала_

### ETU
![Alt-text](<graphs/MSE_rand_ETU.png>)
_Рисунок №13. MSE в зависимости от кол-ва пилотов для ETU модели канала_

![Alt-text](<graphs/BER_rand_ETU.png>)
_Рисунок №14. BER в зависимости от кол-ва пилотов для ETU модели канала_

### Комментарии и выводы:
* в данном разделе кривые методов LS, MMSE приведены для справки, основным объектом изучения являются кривые методов MP и OMP;
* кривые MP и OMP заметно отличаются друг от друга - OMP показывает лучшую точность при любой модели канала;
* кол-во пилотов при котором нарушается теорема Котельникова для метода OMP (взят порог BER в 5%): 
  * EPA - `17` (рисунок 10)
  * EVA - `40` (рисунок 12)
  * ETU - `40` (рисунок 14)
* сравнивая с пороговым значением количества пилотов для нарушения теоремы Котельникова в случае регулярной пилотной маски, можно сделать вывод, что маска с равномерным случайным распределением пилотов действительно позволяет преодолеть лимит, пастулируемый теоеремой Котельникова; однако этот эффект удалось получить только для самой "суровой" модели канала - ETU, модели же EPA и EVA, напротив, показали обратный результат и количество пилотов необходимых для точной оценки канала (BER<5%) увеличилось.